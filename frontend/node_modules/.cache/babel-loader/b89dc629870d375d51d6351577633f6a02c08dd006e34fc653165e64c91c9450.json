{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manivasagam P\\\\Desktop\\\\TASK\\\\frontend\\\\src\\\\components\\\\Tenant\\\\TenantDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { createVehicle, getVehicles, updateVehicle, deleteVehicle } from '../../Api/api.js';\nimport '../../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VehicleDashboard = ({\n  tenantId\n}) => {\n  _s();\n  const [vehicles, setVehicles] = useState([]);\n  const [name, setName] = useState('');\n  const [type, setType] = useState('');\n  const [pricePerKm, setPricePerKm] = useState('');\n  const [selectedVehicle, setSelectedVehicle] = useState(null);\n  const fetchVehicles = async () => {\n    const response = await getVehicles(tenantId);\n    setVehicles(response.data);\n  };\n  const handleCreateVehicle = async e => {\n    e.preventDefault();\n    if (!tenantId) {\n      console.error(\"Tenant ID is not defined\");\n      return;\n    }\n    try {\n      await createVehicle(tenantId, {\n        name,\n        type,\n        pricePerKm\n      });\n      fetchVehicles();\n      setName('');\n      setType('');\n      setPricePerKm('');\n    } catch (error) {\n      console.error(\"Error creating vehicle:\", error);\n    }\n  };\n  const handleUpdateVehicle = async e => {\n    e.preventDefault();\n    if (selectedVehicle) {\n      await updateVehicle(tenantId, selectedVehicle.id, {\n        name,\n        type,\n        price_per_km: pricePerKm\n      });\n      fetchVehicles();\n      setSelectedVehicle(null);\n      setName('');\n      setType('');\n      setPricePerKm('');\n    }\n  };\n  const handleDeleteVehicle = async id => {\n    await deleteVehicle(tenantId, id);\n    fetchVehicles();\n  };\n  const handleEditVehicle = vehicle => {\n    setSelectedVehicle(vehicle);\n    setName(vehicle.name);\n    setType(vehicle.type);\n    setPricePerKm(vehicle.price_per_km);\n  };\n  useEffect(() => {\n    fetchVehicles();\n    // eslint-disable-next-line\n  }, [tenantId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vehicle-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tenant Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: selectedVehicle ? handleUpdateVehicle : handleCreateVehicle,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Vehicle Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Vehicle Type\",\n        value: type,\n        onChange: e => setType(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Price per Km\",\n        value: pricePerKm,\n        onChange: e => setPricePerKm(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: selectedVehicle ? 'Update Vehicle' : 'Create Vehicle'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"vehicle-dashboard\",\n      children: vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [vehicle.name, \" - \", vehicle.type, \" - $\", vehicle.price_per_km, \" per Km\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditVehicle(vehicle),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteVehicle(vehicle.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, vehicle.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(VehicleDashboard, \"VKYl3ESUeOrPausGik1jr2kPx6w=\");\n_c = VehicleDashboard;\nexport default VehicleDashboard;\nvar _c;\n$RefreshReg$(_c, \"VehicleDashboard\");","map":{"version":3,"names":["React","useEffect","useState","createVehicle","getVehicles","updateVehicle","deleteVehicle","jsxDEV","_jsxDEV","VehicleDashboard","tenantId","_s","vehicles","setVehicles","name","setName","type","setType","pricePerKm","setPricePerKm","selectedVehicle","setSelectedVehicle","fetchVehicles","response","data","handleCreateVehicle","e","preventDefault","console","error","handleUpdateVehicle","id","price_per_km","handleDeleteVehicle","handleEditVehicle","vehicle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","required","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Manivasagam P/Desktop/TASK/frontend/src/components/Tenant/TenantDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { createVehicle, getVehicles, updateVehicle, deleteVehicle } from '../../Api/api.js';\r\nimport '../../index.css';\r\n\r\nconst VehicleDashboard = ({ tenantId }) => {\r\n    const [vehicles, setVehicles] = useState([]);\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [pricePerKm, setPricePerKm] = useState('');\r\n    const [selectedVehicle, setSelectedVehicle] = useState(null);\r\n\r\n    const fetchVehicles = async () => {\r\n        const response = await getVehicles(tenantId);\r\n        setVehicles(response.data);\r\n    };\r\n\r\n    const handleCreateVehicle = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!tenantId) {\r\n            console.error(\"Tenant ID is not defined\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await createVehicle(tenantId, { name, type, pricePerKm });           \r\n            fetchVehicles();\r\n            \r\n            setName('');\r\n            setType('');\r\n            setPricePerKm('');\r\n        } catch (error) {\r\n            console.error(\"Error creating vehicle:\", error);\r\n        }\r\n    };\r\n\r\n    const handleUpdateVehicle = async (e) => {\r\n        e.preventDefault();\r\n        if (selectedVehicle) {\r\n            await updateVehicle(tenantId, selectedVehicle.id, { name, type, price_per_km: pricePerKm });\r\n            fetchVehicles();\r\n            setSelectedVehicle(null);\r\n            setName('');\r\n            setType('');\r\n            setPricePerKm('');\r\n        }\r\n    };\r\n\r\n    const handleDeleteVehicle = async (id) => {\r\n        await deleteVehicle(tenantId, id);\r\n        fetchVehicles();\r\n    };\r\n\r\n    const handleEditVehicle = (vehicle) => {\r\n        setSelectedVehicle(vehicle);\r\n        setName(vehicle.name);\r\n        setType(vehicle.type);\r\n        setPricePerKm(vehicle.price_per_km);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchVehicles();\r\n        // eslint-disable-next-line\r\n    }, [tenantId]);\r\n\r\n    return (\r\n        <div className=\"vehicle-dashboard\">\r\n            <h2>Tenant Dashboard</h2>\r\n            <form onSubmit={selectedVehicle ? handleUpdateVehicle : handleCreateVehicle}>\r\n                <input type=\"text\" placeholder=\"Vehicle Name\" value={name} onChange={(e) => setName(e.target.value)} required />\r\n                <input type=\"text\" placeholder=\"Vehicle Type\" value={type} onChange={(e) => setType(e.target.value)} required />\r\n                <input type=\"number\" placeholder=\"Price per Km\" value={pricePerKm} onChange={(e) => setPricePerKm(e.target.value)} required />\r\n                <button type=\"submit\">{selectedVehicle ? 'Update Vehicle' : 'Create Vehicle'}</button>\r\n            </form>\r\n            <ul className=\"vehicle-dashboard\">\r\n                {vehicles.map(vehicle => (\r\n                    <li key={vehicle.id}>\r\n                        {vehicle.name} - {vehicle.type} - ${vehicle.price_per_km} per Km\r\n                        <button onClick={() => handleEditVehicle(vehicle)}>Edit</button>\r\n                        <button onClick={() => handleDeleteVehicle(vehicle.id)}>Delete</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VehicleDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}